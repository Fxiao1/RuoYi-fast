<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
	<head>
		<th:block th:include="include :: header('新增用户评论')" />
	</head>
	<body class="white-bg">
		<div class="wrapper wrapper-content animated fadeInRight ibox-content">
			<ul id="myTab" class="nav nav-tabs">
				<li class="active">
					<a href="#importCount" data-toggle="tab">导入</a>
				</li>
				<li><a href="#addContent" data-toggle="tab">添加</a></li>
			</ul>
			<div id="myTabCount" class="tab-content">
				<div id="importCount" class="tab-pane active">
					<form class="form-horizontal m" id="form-comment-import">
						<div class="form-group">
							<label class="col-sm-3 control-label">地址：</label>
							<div class="col-sm-8">
								<input id="importUrl" name="importUrl" class="form-control" type="text">
							</div>
						</div>
					</form>
				</div>
				<div id="addContent" class="tab-pane">
					<form class="form-horizontal m" id="form-comment-add">
						<div class="form-group">
							<label class="col-sm-3 control-label">创建时间：</label>
							<div class="col-sm-8">
								<input id="createTime" name="createTime" class="form-control" type="text">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label">更改时间：</label>
							<div class="col-sm-8">
								<input id="updateTime" name="updateTime" class="form-control" type="text">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label">商品评论：</label>
							<div class="col-sm-8">
								<input id="commentContent" name="commentContent" class="form-control" type="text">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label">评论者账号：</label>
							<div class="col-sm-8">
								<input id="userName" name="userName" class="form-control" type="text">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label">评论者id：</label>
							<div class="col-sm-8">
								<input id="userId" name="userId" class="form-control" type="text">
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-3 control-label">评论时间：</label>
							<div class="col-sm-8">
								<input id="commentTime" name="commentTime" class="form-control" type="text">
							</div>
						</div>
					</form>
				</div>
			</div>


		</div>
		<div th:include="include::footer"></div>
		<script type="text/javascript">
			var prefix = ctx + "fx/comment"
			//检查焦点在导入标签还是新增标签
			var isImport=false;
            isImport=$("#importCount").hasClass("active");
            if(isImport){
                $("form-comment-import").validate({
                    rules:{
                        importUrl:{
                            required:true
                        }
                    },
                    focusCleanup:true
                })
            }else{
                $("#form-comment-add").validate({
                    rules: {
                        xxxx: {
                            required: true,
                        },
                    },
                    focusCleanup: true
                });
            }


			function submitHandler() {
			    if ($.validate.form()) {
			        if(isImport){
			            $.operate.save(prefix+"/import",$("#form-comment-import").serialize(),function(result){
			                alert(result);
			            });
			        }else{
                        $.operate.save(prefix + "/add", $('#form-comment-add').serialize());
			        }

                }

			}
		</script>
	</body>
</html>
